var DataVision;(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{function n(t,e){const n=.85*t,o=.65*e;return{x:.75*(t-n),y:(e-o)/2,width:n,height:o}}function o(t,e){const n=t[0],o=t[1],a=Math.abs(o-n),l=i(t,e);let s=Math.round(a/l);return n+s*l<o&&s++,s}function a(){let t=null,e=null;if(layout){const n=7,o=layout.xAxis;o&&o.range&&(t=l(o.range,n));const a=10,i=layout.yAxis;i&&i.range&&(e=l(i.range,a))}return{xRange:t,yRange:e}}function i(t,e){const n=t[0],o=t[1],a=Math.abs(o-n)/e,i=a%100,l=[1,2,5,10,20,50,100].filter((t=>t>=i))[0];return a-i+l}function l(t,e){let n=t[0],a=t[1];n=n>=10?10*Math.floor(n/10):n>=5?5*Math.floor(n/5):n>=2?2*Math.floor(n/2):0;const l=i(t,e);return a=n+o(t,e)*l,[n,a]}function s(t,e){const o=t.canvas,a=n(o.width,o.height),i=layout.xAxis,s=layout.yAxis;if(i&&s){const t=l(i.range,7),n=t[0],o=t[1],r=o-n,h=l(s.range,10),c=h[0],f=h[1],g=f-c;if(e.x>=n&&e.x<=o&&e.y>=c&&e.y<=f){const t=(e.x-n)/r,o=(e.y-c)/g;return{x:a.x+t*a.width,y:a.y+a.height-o*a.height}}}return null}t.r(e),t.d(e,{default:()=>v});const r=t=>{const e=t.canvas,l=n(e.width,e.height);t.beginPath(),t.rect(l.x,l.y,l.width,l.height),t.stroke();const s=a();!function(t,e,n){const a=e.width,l=e.height,s=e.x;let r=s,h=e.y+l;if(n){const e=10,c=n[0],f=i(n,e);let g=o(n,e),u=l/g,y=c,x=13;for(let e=0;e<g;e++){t.font=x+"px Arial";const e=r-t.measureText(y).width-x,n=h+Math.floor(x/2);t.beginPath(),t.strokeStyle="gray",t.moveTo(s+a,h),t.lineTo(s,h),t.stroke(),t.beginPath(),t.fillText(y,e,n),y+=f,h-=u}}}(t,l,s.yRange),function(t,e,n){const a=e.width,l=e.height,s=e.x,r=e.y;let h=s,c=r+l;if(n){const e=7,s=n[0],f=i(n,e);let g=o(n,e),u=a/g,y=s,x=13;for(let e=0;e<g;e++){t.font=x+"px Arial";const e=h-t.measureText(y).width/2,n=c+2*x;t.beginPath(),t.moveTo(h,r),t.lineTo(h,r+l),t.stroke(),t.beginPath(),t.fillText(y,e,n),y+=f,h+=u}}}(t,l,s.xRange),function(t,e){const n=e.width,o=e.height,a=e.x,i=e.y;let l=layout.title,s=layout.yAxis,r=layout.xAxis;if(t.textAlign="center",l){t.beginPath();const e=30;t.font=e+"px Arial",t.fillText(l,a+n/2,i/2+e/2)}if(s){let e=s.title;t.beginPath();let n=Math.PI/180*-90;t.font="18px Arial",t.save(),t.translate(a-36,i+o/2),t.rotate(n),t.fillText(e,0,0),t.restore()}if(r){let e=r.title;t.beginPath(),t.font="18px Arial",t.fillText(e,a+n/2,i+o+54)}}(t,l)};let h=null,c=!1;const f=(t,e,n,o)=>{const i=a().xRange,l=i[0],r=(i[1],s(t,o));if(r){if(c){const e=s(t,{x:l,y:(f=l,g=h.x,u=h.y,y=o.x,x=o.y,g===y?u:u+(f-g)*(x-u)/(y-g))});t.beginPath(),t.moveTo(e.x,e.y),t.strokeStyle="blue",t.lineWidth=n,t.lineTo(r.x,r.y)}c=!1}else h=o,c=!0;var f,g,u,y,x;r&&("start"===e?(t.beginPath(),t.moveTo(r.x,r.y)):(t.strokeStyle="blue",t.lineWidth=n,t.lineTo(r.x,r.y))),"end"===e&&(h=null,c=!0,t.stroke(),t.closePath())},g=(t,e,n)=>{const o=s(t,n);o&&(t.beginPath(),t.fillStyle="blue",t.arc(o.x,o.y,e,0,2*Math.PI),t.fill(),t.closePath())},u=(t,e,n)=>{if(n){const a=n.x,i=n.y;for(var o=0;o<a.length;o++){const n=a[o],l=i[o],s=4,r=0===o?"start":o===a.length-1?"end":"";if(l){const o={x:n,y:l};"arcs"===e||"bars"===e||("lines"===e?f(t,r,s,o):"points"===e&&g(t,s,o))}else t.stroke(),t.closePath()}}},y=(t,e)=>{e&&u(t,"points",e)},x=(t,e)=>{e&&u(t,"lines",e)},d=t=>{for(let e=0;e<data.length;e++){const n=data[e],o=n.type;o&&("line"===o&&x(t,n,layout),"scatter"===o&&y(t,n,layout))}};function b(t){this.createCanvas=function(){return document.createElement("canvas")},this.target=document.getElementById(t),this.canvas=this.createCanvas(),this.addCanvasToTarget=function(){const t=this.createCanvas();t.width=this.canvas.width,t.height=this.canvas.height,t.getContext("2d").drawImage(this.canvas,0,0),this.target&&this.target.appendChild(t)}}b.prototype.plot=function(t,e){const n=this.canvas;n.width=700,n.height=525;const o=n.getContext("2d");r(o),d(o),this.addCanvasToTarget()};DataVision=b})()})();