var DataVision;(()=>{"use strict";var t=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e={};(()=>{function n(t,e,n,a,i){return e===a?n:n+(t-e)*(i-n)/(a-e)}function a(t){return t.every((t=>"number"==typeof t))}function i(t,e){return t>=0&&e<0||t<0&&e>=0}function o(t,e,n={x:0,y:0}){const a=Math.PI/180*t;return{x:n.x+e*Math.cos(a),y:n.y+e*Math.sin(a)}}function s(t,e){const n=[1,2,5,10],a=Math.pow(10,Math.floor(Math.log10(t)));return e?(n.reverse(),n.find((e=>e*a<=t))*a):n.find((e=>e*a>=t))*a}function l(t){if(a(t)){const e=function(t){if(t){const e=t.filter((t=>"number"==typeof t&&!isNaN(t)));if(0===e.length)return;return{min:Math.min(...e),max:Math.max(...e)}}return null}(t);if(e)return[e.min,e.max]}return[null,null]}function r(t,e,n){return{x:h(t,e),y:c(t,n)}}function h(t,e){const n=t.getLayout(),a=n.graphPosition,i=a.x,o=a.width,s=n.axisData,l=s.labelIsAllNumbers,r=s.labels;if(l)e=function(t,e){const n=t.getLayout(),a="hr"===n.axisData.direction,i=n.graphPosition,o=i.x,s=i.width,l=n.ranges,r=a?l.valueRange:l.labelRange;if(r){const t=r[0];return o+(e-t)/(r[1]-t)*s}return e}(t,e);else{const t=o/r.length,n=t/2,a=r.indexOf(e);a>=0&&(e=i+(t*a+n))}return e}function c(t,e){const n=t.getLayout(),a=n.graphPosition,i=a.y,o=a.height,s=n.axisData,l=s.valueIsAllNumbers,r=s.values;if(l)e=function(t,e){const n=t.getLayout(),a="hr"===n.axisData.direction,i=n.graphPosition,o=i.y,s=i.height,l=n.ranges,r=a?l.labelRange:l.valueRange;if(r){const t=r[0];return o+s-(e-t)/(r[1]-t)*s}return e}(t,e);else{const t=o/r.length,n=t/2,a=r.indexOf(e);a>=0&&(e=i+o-(t*a+n))}return e}function g(t,e){let n=Math.round(.5*Math.min(t,e));return n<0&&(n=0),n}t(e);const u=[{name:"Royal Blue",code:"#4169E1"},{name:"Emerald Green",code:"#008000"},{name:"Coral Orange",code:"#FF6B57"},{name:"Crimson Red",code:"#DC143C"},{name:"Lavender Purple",code:"#E6E6FA"},{name:"Tangerine Orange",code:"#FFA500"},{name:"Turquoise Blue",code:"#40E0D0"},{name:"Bubblegum Pink",code:"#FF69B4"},{name:"Lime Green",code:"#00FF00"},{name:"Amethyst Purple",code:"#9966CC"},{name:"Goldenrod Yellow",code:"#DAA520"},{name:"Aqua Blue",code:"#00FFFF"},{name:"Teal Green",code:"#008080"},{name:"Sapphire Blue",code:"#082567"},{name:"Ruby Red",code:"#E0115F"},{name:"Emerald Green",code:"#50C878"},{name:"Golden Yellow",code:"#FFD700"},{name:"Violet Purple",code:"#8A2BE2"},{name:"Sunshine Yellow",code:"#FFD700"},{name:"Plum Purple",code:"#DDA0DD"}];function f(t){if(!t)return{count:0,range:t};let e=10;const n=t[0],a=t[1];let i=n,o=a,l=e,r=0;if(!isNaN(n)&&!isNaN(a))if(n<=0&&a>=0){e=Math.round(e/2);const t=a-0;r=s(t/Math.max(e-1,1));const h=Math.ceil(t/r),c=Math.ceil(Math.abs(n)/r);l=h+c,i=-c*r,o=r*h}else if(n<=0)r=s((a-n)/Math.max(e-1,1)),o=-s(Math.abs(o),!0),l=Math.ceil(Math.abs(o-n)/r),i=-(Math.abs(o)+r*l);else if(n>0){console.log("we in"),i=s(i,!0);const t=o-i,n=t<1e3?e:Math.round(e/2);r=s(t/Math.max(n-1,1)),console.log("intervals: ",i,o,a,r),l=Math.ceil(t/r),o=i+r*l}return{count:l,range:[i,o],interval:r}}function d(t,e){const n=t||{};return!n.color&&(n.color=u[e].code),!n.size&&(n.size=3),n}function x(t,e,n){return t._eventHandlers&&t._eventHandlers[e]&&t._eventHandlers[e].includes(n)}const y=t=>{!function(t){const e=t.getCtx(),n=t.getLayout(),i=[...t.getData()],o=t.getStyle().label,s=o.fontSize;e.font=s+"px "+o.fontFamily;let r=1,h=0,c=0,g=0;const x=[],y=[];let m=0;const v=[],b=[],p=[],C=[],P=["line","scatter","bar"];let w=!1,T=!1,M=null,A=0,D=0;if(i){const t=[...i],n=t.length,o={type:"bar"},s=new Map,l=[];let f=!1;for(let i=0;i<n;i++){const n={...t[i]},o=n.name,S=n.labels,L=n.values,F=n.type,I=n.design,N={...n},k=[],z=[];let B=0;const E=a(S),R=a(L);if(P.includes(F)){const t=[];for(let a=0;a<S.length;a++){const i=E?Math.round(S[a]):S[a],o=R?Math.round(L[a]):L[a],l=e.measureText(i).width,g=R&&o<0&&o>10?-10:o,d=e.measureText(g).width;if("bar"===F){let e=[[o]],l=[[I?Array.isArray(I.color)?I.color[a]:I.color:u[m].code]];if(s.has(i)){const n=s.get(i),a=n.values,o=a[a.length-1],r=n.colors,h=r[r.length-1];t.includes(i)?(o.push(...e[0]),h.push(...l[0]),e=[...a],l=[...r]):(e=[...a,...e],l=[...r,...l])}e.length>r&&(r=e.length),s.set(i,{values:e,colors:l}),"hr"===n.direction&&(M="hr"),f=!0,t.push(i)}l>h&&(h=l),d>c&&(c=d),-1===v.indexOf(i)&&v.push(i),-1===b.indexOf(o)&&b.push(o)}w=!0;const a=o||"Dataset "+m,i=e.measureText(a).width;"bar"===F?l.push(a):(n.name=a,n.design=d(I,m),x.push(n)),i>A&&(A=i),D+=1,m++}else if("pie"===F){for(let t=0;t<L.length;t++){const n=E?Math.round(S[t]):S[t],a=R?Math.round(L[t]):L[t];if(a>=0){const t=e.measureText(n).width;if(p.includes(n)){const t=p.indexOf(n),e=C[t];C[t]=e+a}else p.push(n),C.push(a);if(k.includes(n)){const t=k.indexOf(n),e=z[t];z[t]=e+a}else k.push(n),z.push(a);B+=a,t>g&&(g=t)}}T=!0,N.labels=k,N.values=z,N.totalValues=B,N.type="pie",y.push(N),g>A&&(A=g),D+=S.length}}f&&(o.names=l,o.categories=s,o.maxBarPerCategory=r,o.direction=M,x.unshift(o))}const S=[...x,...y],L=a(v),F=a(b),I="hr"===M;let N=l(v),k=l(b);if(n.xAxis){const t=n.xAxis.range;!t||(N=t)}if(n.yAxis){const t=n.yAxis.range;!t||(k=t)}console.log("yRange: ",k);const z=f(N),B=f(k);console.log("value tick: ",B);const E=B.range,R=z.range,W=E[0],O=E[1],V=R[0],G=R[1],H=W?e.measureText(W).width:0,_=O?e.measureText(O).width:0,Y=V?e.measureText(V).width:0,j=G?e.measureText(G).width:0;c=Math.max(c,Math.max(H,_)),h=Math.max(h,Math.max(Y,j)),n.tickData={label:I?B:z,value:I?z:B},n.ranges={labelRange:z.range,valueRange:B.range},n.datasetNameData={isDatasetName:D>1,maxNameWidth:A,total:D},n.axisData={labels:I?b:v,values:I?v:b,maxLabelWidth:I?c:h,maxValueWidth:I?h:c,labelIsAllNumbers:I?F:L,valueIsAllNumbers:I?L:F,direction:M},n.pieData={labels:p,values:C,maxLabelWidth:g},n.hasAxisData=w,n.hasPieData=T,t.setData(S)}(t),function(t){const e=t.getCanvas(),n=e.width;let a=n,i=e.height;const o=t.getStyle(),s=t.getLayout().titleLines,l=o.title.fontSize,r=o.label.fontSize,h=t.getLayout(),c=h.xAxis?h.xAxis.title:null,g=h.yAxis?h.yAxis.title:null,u=4*r,f=h.axisData,d=f.labels,x=f.labelIsAllNumbers,y=f.maxLabelWidth,m=f.maxValueWidth;let v=0,b=2*l;s.length>1&&(b=l*s.length+l/2),g&&g.length>0&&(v+=u/2),c&&c.length>0&&(i-=b+u/2);const p=2*n;m>0&&(v+=m>p?p:m+r);const C=h.datasetNameData,P=C.isDatasetName,w=C.maxNameWidth;a-=P?w>p?v+p:v+w+2*r:x?v+y/2:v,i-=y>a/d.length&&y>2*r?b+.7*y+r:b+2*r;const T={x:v,y:b,width:a,height:i};t.layout={...h,graphPosition:T}}(t);const e=t.getLayout();(t=>{const e=t.getCtx(),n=t.getLayout(),a=t.getStyle().title,i=t.getCanvas().width,o=n.graphPosition.y;let s=n.titleLines;if(e.textAlign="center",s){const t=a.fontSize;e.font="bold "+t+"px "+a.fontFamily;let n=i/2,l=o/2+t/2;s.length>1&&(l=t);for(let a=0;a<s.length;a++){const i=s[a];e.beginPath(),e.fillText(i,n,l),e.closePath(),l+=t}}})(t),(t=>{const e=t.getCtx(),n=t.getLayout(),a=t.getStyle().label,i=e.canvas,o=i.width,s=i.height,l=a.fontSize;e.font=l+"px "+a.fontFamily;const r=n.graphPosition,h=r.x,c=r.y,g=r.width,f=r.height,d=o-(h+g),x=s-c,y=h+g+l,m=n.datasetNameData.total,v=t.getData();let b=!1;if(1===v.length){const t=v[0];"bar"===t.type&&t.names.length>1&&(b=!0)}if(v.length>1||!n.hasAxisData||b){let t=c+l/2;for(let n=0;n<v.length;n++){const a=v[n];if(a){let n=a.labels;const i=a.type;let o=a.colors;if(["line","scatter","bar"].includes(i))if("bar"===i){n=a.names;const t=a.categories;o=Array.from(t.values())[0].colors}else{n=[a.name];const t=a.design.color;o=Array.isArray(t)?t:[t]}if(n){let a=2*l;m*(2*l)>=f+l/2&&(a=Math.round(x/m));for(let s=0;s<n.length;s++){const r=u[s].code;let h=n[s];const c=e.measureText(h).width;if(c+l>d&&h.length>3){const t=c/h.length;p=h,C=Math.floor((d-2*l)/t),h=p.length>C?p.substr(0,C)+"...":p}const g=(o?"bar"===i?o[s][0]:o[s]:null)||r;g&&(e.fillStyle=g);const f=y+l,x=t;e.beginPath(),e.arc(y,t,l/2,0,2*Math.PI),e.fill(),e.beginPath(),e.fillStyle="black",e.textAlign="start",e.textBaseline="middle",e.fillText(h,f,x),t+=a}}}}}var p,C})(t),e.hasAxisData&&(t=>{const e=t.getCtx(),n=t.getLayout().graphPosition;e.beginPath(),e.rect(n.x+1,n.y,n.width-2,n.height),e.stroke(),function(t,e){const n=t.getCtx(),a=t.getLayout(),i=t.getStyle().label,o=e.width,s=e.height,l=e.x,r=e.y,h=i.fontSize;n.font=h+"px "+i.fontFamily,n.textBaseline="hanging";let c=0,g=r+s;const u=a.axisData,f="hr"===u.direction,d=u.labels;if(u.labelIsAllNumbers){const t=a.tickData.label,e=a.ranges;d.sort(((t,e)=>t-e));const i=[d[0],d[d.length-1]];let u=e?f?e.valueRange:e.labelRange:i;if(u=t.range,u){const e=u[0],a=u[1],i=t.interval;let f=t.count,d=o/f;d<1&&(d=1);let x=0;const y=n.measureText(a).width;let m=1;y>d&&(m+=Math.round(y/d)),n.textAlign="center";for(let t=0;t<=f;t+=m){x=e+i*t,c=l+d*t,n.measureText(x).width;const a=c,o=g+h;n.beginPath(),n.moveTo(c,r),n.lineTo(c,r+s+h/2),n.stroke(),n.beginPath(),n.fillText(x,a,o)}}}else{const t=u.maxLabelWidth;let e=o/d.length;e<1&&(e=1);let a=1;t/2>e&&(a+=Math.round(t/2/e));for(var x=0;x<d.length;x+=a){c=l+(e/2+e*x);const a=d[x];n.measureText(a).width;let i=c;const o=g+h;n.beginPath(),n.textAlign="center";let s=0;t>e&&(s=-40,i=c,n.textAlign="end",n.textBaseline="middle");let r=s*(Math.PI/180);n.save(),n.translate(i,o),n.rotate(r),n.fillText(a,0,0),n.restore()}}n.textAlign="start",n.textBaseline="alphabetic"}(t,n),function(t,e){const n=t.getCtx(),a=t.getLayout(),i=t.getStyle().label,o=e.width,s=e.height,l=e.x,r=e.y,h=i.fontSize;n.font=h+"px "+i.fontFamily;let c=l,g=r+s;const u=a.axisData,f=(u.direction,u.values);if(u.valueIsAllNumbers){const t=a.tickData.value;f.sort(((t,e)=>t-e));let e=t.range;if(e){const a=e[0],i=t.interval;let u=t.count,f=s/u;f<1&&(f=1);let d=0,x=1;h>f&&(x+=Math.round(h/f));for(let t=0;t<=u;t+=x){d=a+i*t,g=r+s-f*t;const e=c-n.measureText(d).width-h,u=g+Math.floor(h/2);n.beginPath(),n.strokeStyle="black",n.moveTo(l+o,g),n.lineTo(l-h/2,g),n.stroke(),n.beginPath(),n.fillText(d,e,u)}}}else{let t=s/f.length;t<1&&(t=1);let e=1;h>t&&(e+=Math.round(h/t));for(var d=0;d<f.length;d+=e){g=r+s-(t/2+t*d);const e=f[d],a=c-h,i=g;n.beginPath(),n.textAlign="end",n.textBaseline="middle",n.fillText(e,a,i),n.textAlign="start",n.textBaseline="alphabetic"}}}(t,n),function(t,e){const n=t.getCtx(),a=t.getLayout(),i=t.getStyle().label,o=n.canvas.height,s=e.width,l=e.height,r=e.x,h=e.y;let c=a.yAxis,g=a.xAxis;n.textAlign="center";const u=i.fontSize;if(n.font=u+"px "+i.fontFamily,c){let t=c.title;if(t){n.beginPath();let e=Math.PI/180*-90;n.save(),n.translate(u,h+l/2),n.rotate(e),n.fillText(t,0,0),n.restore()}}if(g){let t=g.title;t&&(n.beginPath(),n.fillText(t,r+s/2,o-u/2))}}(t,n)})(t),e.hasPieData&&(t=>{const e=t.getCtx(),n=t.getLayout().graphPosition,a=n.x,i=n.y,o=n.width,s=g(o,n.height),l=a+o/2,r=i+s;e.beginPath(),e.arc(l,r,s,0,2*Math.PI),e.stroke()})(t)},m=(t,e,n,a)=>{const o=t.getCtx(),s=t.getLayout(),l=s.axisData.valueIsAllNumbers;if(console.log("cat: ",e),e&&a){const g="hr"===a.direction,f=e.values,d=e.colors,x=s.graphPosition,y=x.x,m=x.y,v=x.width,b=x.height;let p=s.ranges.valueRange;const C=p[0]<0?0:p[0],P=p[1],w=a.maxBarPerCategory,T=a.categories,M=Array.from(T.keys()),A=M.indexOf(n),D=g?b/M.length:v/M.length,S=D/(w+1),L=p?g?h(t,C):c(t,C):null,F=L||(g?y:m+b);if(g){const e=S;let n=m+b-(D*A+e/2);for(var r=0;r<f.length;r++){const a=f[r],c=d[r];let g=F;for(let f=0;f<a.length;f++){const d=a[f],x=d>P?P:d,y=s.customColorsIndex,v=u[y+r].code,b=c&&c[f]?c[f]:v,p=h(t,x);if(p>=m){const t=p-g;g&&p&&(b&&(o.fillStyle=b),o.beginPath(),o.rect(L,n-e,t,e),o.fill())}if(g=g<p?F:p,l){const t=a[f+1];t&&i(x,t)&&(g=F)}}n-=e}}else{const e=S;let n=y+(D*A+e/2);for(r=0;r<f.length;r++){const a=f[r],h=d[r];let g=F;for(let f=0;f<a.length;f++){const d=a[f];let x=d>P?P:d;const y=s.customColorsIndex,v=u[y+r].code,p=h&&h[f]?h[f]:v,C=c(t,x),w=g-C;if(m+b>=C&&g&&C&&(p&&(o.fillStyle=p),o.beginPath(),o.rect(n,C,e,w),o.fill()),g=g<C?F:C,l){const t=a[f+1];t&&i(x,t)&&(g=F)}}n+=e}}}};let v=null,b=!1,p=!1,C=null;const P=(t,e,a,i)=>{const o=t.getCtx();o.lineWidth=a,o.lineCap="round",((t,e)=>{const a=t.getCtx(),i=t.getLayout();if(!i.isBarChart){const t=i.ranges.labelRange,o=t?t[0]:null,s=t?t[1]:null;if(e){if(b){const t={x:o,y:n(o,v.x,v.y,e.x,e.y)};newPos&&(a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(e.x,e.y)),p=!0}C=e,b=!1}else if(v=e,b=!0,p||C){const t={x:s,y:n(s,C.x,C.y,e.x,e.y)};newPos&&a.lineTo(t.x,t.y),p=!1}}})(t,i),i&&("start"===e?(o.beginPath(),o.moveTo(i.x,i.y)):(o.lineTo(i.x,i.y),o.stroke(),o.closePath(),o.beginPath(),o.moveTo(i.x,i.y))),"end"===e&&(v=null,b=!1,p=!1,C=null,o.stroke(),o.closePath())},w=(t,e,n)=>{const a=t.getCtx();n&&(a.beginPath(),a.arc(n.x,n.y,e,0,2*Math.PI),a.stroke(),a.fill(),a.closePath())},T=(t,e,n,a)=>{const i=t.getLayout().graphPosition,s=i.x,l=i.y,r=i.width,h=g(r,i.height),c=s+r/2,u=l+h,f=o(n,h,{x:c,y:u}),d={x:c,y:u},x=o(a,h,{x:c,y:u}),y=Math.PI/180,m=n*y,v=a*y;e.beginPath(),e.strokeStyle="white",e.lineWidth=4,e.arc(d.x,d.y,h,m,v),e.moveTo(f.x,f.y),e.lineTo(d.x,d.y),e.lineTo(x.x,x.y),e.stroke(),e.fill(),e.closePath()},M=(t,e,n)=>{const a=t.getCtx(),i=t.getLayout(),o=i.customColorsIndex;if("bars"===e){const e=n.categories,a=n.maxBarPerCategory,l=Array.from(e.keys());for(var s=0;s<l.length;s++){const a=l[s],i=e.get(a);m(t,i,a,n)}a&&(i.customColorsIndex=o+a)}else if("pie"===e){const e=t.getTempCanvas();e.width=a.canvas.width,e.height=a.canvas.height;const o=e.getContext("2d"),l=i.graphPosition,r=l.x,h=l.y,c=l.width,g=l.height,f=Math.min(c,g)/2,d=n.values,x=n.colors,y=n.totalValues;if(d){let e=-90,n=e;for(s=0;s<d.length;s++){const a=u[s].code,i=(x?x[s]:null)||a;i&&(o.fillStyle=i);const l=d[s];if(!isNaN(l)){e+=l/y*360;const a=e;T(t,o,n,a),n=a}}}const m=c/2,v=g/2,b=(n.hole?n.hole:0)*f;o.globalCompositeOperation="destination-out",o.globalAlpha=1,o.beginPath(),o.arc(r+m,h+v,b,0,2*Math.PI),o.fill(),o.globalCompositeOperation="source-over",a.drawImage(e,0,0)}else if(n){const o="hr"===i.axisData.direction,l=n.design.color,h=n.design.size;a.fillStyle=l,a.strokeStyle=l;const c=o?n.values:n.labels,g=o?n.labels:n.values;if(c)for(s=0;s<c.length;s++){let i=c[s],o=g[s];const u=Array.isArray(h)?h[s]:h,f=0===s?"start":s===c.length-1?"end":"";if(o||0===o){const s=r(t,i,o);if("arcs"===e);else if("lines"===e)P(t,f,u,s);else if("points"===e){const e=n.design.line,i=e&&e.color?e.color:l,o=e&&e.size?e.size:0;a.strokeStyle=i,a.lineWidth=o,w(t,u,s)}}else a.stroke(),a.closePath()}}},A=(t,e)=>{e&&M(t,"points",e)},D=(t,e)=>{e&&M(t,"bars",e)},S=(t,e)=>{e&&M(t,"lines",e)},L=(t,e)=>{e&&M(t,"pie",e)};function F(t){this.data=[],this.layout={},this.style={},this.target=document.getElementById(t),this.targetCanvas=document.createElement("canvas"),this.canvas=document.createElement("canvas"),this.canvasCopy=document.createElement("canvas"),this.tempCanvas=document.createElement("canvas"),this.setData=function(t){this.data=[...t]},this.getData=function(){return this.data},this.setLayout=function(t){if(t){const e=t.title?t.title:"";t.titleLines=function(t,e){const n=t.getCanvas(),a=t.getCtx(),i=t.getStyle().title,o=n.width,s=e.split(" ");let l=[],r=s[0];const h=i.fontSize;a.font=i.fontWeight+" "+h+"px "+i.fontFamily;for(let t=1;t<s.length;t++){const e=r+" "+s[t];a.measureText(e).width+h<o?r=e:(a.measureText(r).width,l.push(r),r=s[t])}return l.push(r),l}(this,e),t.customColorsIndex=0,this.layout={...t}}},this.getLayout=function(){return this.layout},this.setStyle=function(){this.style=(t=>{const e=t.getCanvas().width,n={fontFamily:"Arial",fontWeight:"bold"},a={fontFamily:"Arial"};return e<600?(n.fontSize=16,a.fontSize=12):e<1200?(n.fontSize=20,a.fontSize=14):(n.fontSize=24,a.fontSize=18),{title:n,label:a}})(this)},this.getStyle=function(){return this.style},this.setCanvas=function(t,e){const n=this.getCanvas();n.width=t,n.height=e,this.canvas=n},this.getCanvas=function(){return this.canvas},this.updateCanvasCopy=function(){const t=this.getCanvas(),e=this.getCanvasCopy();e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),this.canvasCopy=e},this.getCanvasCopy=function(){return this.canvasCopy},this.getCtx=function(){return this.getCanvas().getContext("2d")},this.getTempCanvas=function(){return this.tempCanvas},this.getTarget=function(){return this.target},this.getTargetCanvas=function(){return this.targetCanvas},this.updateTargetCanvas=function(){const t=this.getCanvasCopy(),e=this.getTargetCanvas(),n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.drawImage(t,0,0)},this.addCanvasToTarget=function(){const t=this.getTargetCanvas();t.width=this.canvas.width,t.height=this.canvas.height,t.getContext("2d").drawImage(this.getCanvas(),0,0);const e=this;var n,a,i,o;a="mousemove",i=function(t){const n=function(t){if(t){const e=t.target.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}return null}(t);((t,e)=>{if(t&&e){t.getCtx();const e=t.getLayout();t.updateTargetCanvas(),e.firstDataType}})(e,n)},o="touchend",(n=t)&&"object"==typeof n&&(n.addEventListener?(x(n,a,i)||n.addEventListener(a,i,!1),o&&!x(n,o,i)&&n.addEventListener(o,i,!1)):n.attachEvent&&(x(n,a,i)||n.attachEvent("on"+a,i),o&&!x(n,o,i)&&n.attachEvent("on"+o,i))),this.target&&(this.target.innerHTML="",this.target.appendChild(t))}}F.prototype.plot=function(t,e){const n=function(t,e){const n=t.getTarget(),a=e.width,i=e.height;let o=0,s=0;return n&&(o=Math.max(n.offsetWidth,n.offsetHeight),s=.6*o),(a||i)&&(o=a,s=i),{width:o,height:s}}(this,e);this.setCanvas(n.width,n.height),this.setStyle(),this.setData(t),this.setLayout(e),y(this),(t=>{const e=t.getCtx(),n=t.getData();for(let a=0;a<n.length;a++){const i=n[a],o=i.type;e.lineJoin="round",o&&("line"===o?S(t,i):"scatter"===o?A(t,i):"bar"===o?D(t,i):"pie"===o&&L(t,i))}})(this),this.updateCanvasCopy(),this.addCanvasToTarget()},DataVision=F})()})();