/*! For license information please see datavision.min.js.LICENSE.txt */
var DataVision;(()=>{"use strict";var t=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e={};(()=>{function i(t,e,i,s,n){return e===s?i:i+(t-e)*(n-i)/(s-e)}function s(t,e,i,s,n){return i===n?e:e+(t-i)*(s-e)/(n-i)}function n(t,e){const i=e.x-t.x,s=e.y-t.y;return Math.hypot(i,s)}function a(t,e){const i=Math.min(...e),s=Math.max(...e);return isNaN(i)||isNaN(s)?null:t<i?i:t>s?s:t}function l(t,e){if("number"!=typeof t||isNaN(t)||!1===e)return t;const i=t.toString().split(".");return i[0]=i[0].toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),i.join(".")}function o(t,e){return"avg"===t?function(t){return t.reduce(((t,e)=>t+e),0)/t.length}(e):"min"===t?Math.min(...e):"max"===t?Math.max(...e):"count"===t?e.length:function(t){return t.reduce(((t,e)=>t+e),0)}(e)}function r(t){if(!t)return null;let e=0,i=0;for(let s=0;s<t.length;s++){const n=typeof t[s];"string"===n?i++:"number"===n&&e++}return e>i/2}function c(t){const e=t[0],i=t[1];return!isNaN(e)&&!isNaN(i)&&!(e<1e3||i>9999)}function h(t,e){if("number"!=typeof t||isNaN(t))return t;const i=parseFloat(t);let s=i;if(Number.isInteger(i))s=i.toFixed(e||0);else{const t=i.toString(),n=t.indexOf(".");if(-1!==n){const a=t.substring(n+1).search(/[^0]/);if(-1===a)s=i.toFixed(0);else{const t=isNaN(e)?a+1:e;s=i.toFixed(t)}}else s=parseFloatparsedNumber}return parseFloat(s)}function u(t,e,i={x:0,y:0}){const s=Math.PI/180*t;return{x:i.x+e*Math.cos(s),y:i.y+e*Math.sin(s)}}function g(t){if(r(t)){const e=function(t){if(t){const e=t.filter((t=>"number"==typeof t&&!isNaN(t)));if(0===e.length)return;return{min:Math.min(...e),max:Math.max(...e)}}return null}(t);if(e)return[e.min,e.max]}return[null,null]}function x(t,e,i,s,n,a,l,o,r,c){let h=l,u=y(t,i[e],s[e],n,a),g=e;if(!o){let e=g>=r&&g<=c;for(;f(t,u)&&e&&(g++,e=g>=r&&g<=c,h={...u},u=y(t,i[g],s[g],n,a),u););}return{next:u,prev:h}}function d(t,e,i,s,n){!s&&(s="x1"),!n&&(n="y1");const a=t.getLayout().axisData,l=a.labels[s],o=a.values[n];let r=!1,c=!1;if(l){const t=l.range;if(t){const i=t[0],s=t[1];(e<i||e>s)&&(r=!0)}}if(o){const t=o.range;if(t){const e=t[0],s=t[1];(i<e||i>s)&&(c=!1)}}return r||c}function f(t,e){const i=t.getLayout().graphPosition,s=i.x,n=i.y,a=i.width,l=i.height;return e.x>s+a||e.x<s||e.y>n+l||e.y<n}function y(t,e,i,s,n){return{x:p(t,e,n),y:m(t,i,s)}}function p(t,e,i){const s=t.getLayout(),n=t.getStyle().label.fontSize,l=s.graphPosition,o=l.x,r=l.width;!i&&(i="x1");const c=s.axisData.labels[i];if(c){const i=c.isAllNumbers,s=c.values;if(i)e=function(t,e,i){const s=t.getLayout(),n=s.graphPosition,l=n.x,o=n.width;!i&&(i="x1");const r=s.axisData.labels[i];if(r){const t=r.range;if(t){const i=t[0],s=t[1]-i;return l+(a(e,t)-i)/s*o}}return e}(t,e);else{let i=r/s.length;i<n&&(i=n);const a=i/2,l=s.indexOf(e);l>=0&&(e=o+(i*(l-t.getAxisScroll().leftIndex)+a))}}return e}function m(t,e,i){const s=t.getLayout(),n=t.getStyle().label.fontSize,l=s.graphPosition,o=l.y,r=l.height;!i&&(i="y1");const c=s.axisData.values[i];if(c){const s=c.isAllNumbers,l=c.values;if(s)e=function(t,e,i,s){const n=t.getLayout(),l=n.graphPosition,o=l.y,r=l.height;!i&&(i="y1");const c=n.axisData.values[i];if(c){const t=c.range;if(t){const i=t[0],s=t[1]-i;return o+r-(a(e,t)-i)/s*r}}return e}(t,e,i);else{let i=r/l.length;i<n&&(i=n);const s=i/2,a=l.indexOf(e);a>=0&&(e=o+r-(i*(a-t.getAxisScroll().topIndex)+s))}}return e}function b(t,e){let i=Math.round(.5*Math.min(t,e));return i<0&&(i=0),i}function v(t,e,i,s){t&&"object"==typeof t&&(t.addEventListener?(A(t,e,i)||t.addEventListener(e,i,!1),s&&!A(t,s,i)&&t.addEventListener(s,i,!1)):t.attachEvent&&(A(t,e,i)||t.attachEvent("on"+e,i),s&&!A(t,s,i)&&t.attachEvent("on"+s,i)))}function A(t,e,i){return t._eventHandlers&&t._eventHandlers[e]&&t._eventHandlers[e].includes(i)}function S(t,e){return t.length>e?t.substr(0,e>3?e-2:e)+"..":t}function w(t,e){const i=e.width>=0?e.x:e.x+e.width,s=e.height>=0?e.y:e.y+e.height,n=Math.abs(e.width),a=Math.abs(e.height);return t.x<i+n&&t.x+t.width>i&&t.y<s+a&&t.y+t.height>s}function T(t,e){const i=e.radius;return n(t,e.midPoint)<=i}function N(t,e,i){const s=Math.max(e.radius,i),a={midPoint:e.midPoint,radius:s},l=n(t,e.midPoint);return!!T(t,a)&&{dist:l,data:e}}function P(t,e){const i={radius:e.holeRadius,midPoint:e.midPoint};if(T(t,e)&&!T(t,i)){const i=e.startDegrees>0?e.startDegrees:e.startDegrees+360,r=e.midPoint,c=e.endDegrees>0?e.endDegrees:e.endDegrees+360;return s=((s=(l=r,o=t,(Math.atan2(o.y-l.y,o.x-l.x)*(180/Math.PI)+360)%360))+360)%360,(n=((n=i)+360)%360)<=(a=((a=c)+360)%360)?s>=n&&s<=a:s>=n||s<=a}return!1;var s,n,a,l,o}t(e);const C={get:function(t){const e=this.colors.length,i=t/e%1;return this.colors[Math.round(i*e)]},colors:[{name:"Royal Blue",code:"#4169E1"},{name:"Emerald Green",code:"#008000"},{name:"Coral Orange",code:"#FF6B57"},{name:"Crimson Red",code:"#DC143C"},{name:"Lavender Purple",code:"#E6E6FA"},{name:"Tangerine Orange",code:"#FFA500"},{name:"Turquoise Blue",code:"#40E0D0"},{name:"Bubblegum Pink",code:"#FF69B4"},{name:"Lime Green",code:"#00FF00"},{name:"Amethyst Purple",code:"#9966CC"},{name:"Goldenrod Yellow",code:"#DAA520"},{name:"Aqua Blue",code:"#00FFFF"},{name:"Teal Green",code:"#008080"},{name:"Sapphire Blue",code:"#082567"},{name:"Ruby Red",code:"#E0115F"},{name:"Emerald Green",code:"#50C878"},{name:"Golden Yellow",code:"#FFD700"},{name:"Violet Purple",code:"#8A2BE2"},{name:"Mint Green",code:"#98FF98"},{name:"Plum Purple",code:"#DDA0DD"}]};function D(t){if(!t)return{count:0,range:t};const e=t[0],i=t[1];let s=e,n=i,a=5,l=0;if(!isNaN(s)&&!isNaN(n)){let t=0;s<=0&&n>=0?t=Math.max(Math.abs(e)+Math.abs(i))/Math.max(4,1):s<=0?t=Math.abs(s/Math.max(4,1)):s>0&&(t=(n-s)/Math.max(4,1)),l=function(t,e){const i=[1,2,4,5,10],s=Math.pow(10,Math.floor(Math.log10(t)));return i.find((e=>e*s>=t))*s}(t);const o=function(t,e){let i=t[0],s=t[1];return i=e*Math.floor(i/e),s=e*Math.ceil(s/e),[i,s]}([s,n],l);s=o[0],n=o[1];const r=n-s;a=Math.round(r/l),a<=1&&(s=0,a=Math.round(n/l))}return{count:a,range:[s,n],interval:l}}function k(t,e,i){if(i.length>0)for(let t=0;t<i.length;t++){const s=i[t];e.push(s)}else for(var s=0;s<t.length;s++)e.push(s)}function M(t,e){let i="y1"===e||"yAxis"===e?"yAxis":"";return i="y2"===e||"y2Axis"===e?"y2Axis":i,i="x1"===e||"xAxis"===e?"xAxis":i,t[i]}function F(t,e,i){const s=e||{},n=C.get(i).code;return!s.color&&(s.color=n),"line"===t&&Array.isArray(s.color)&&(s.color=n),!s.size&&(s.size=3),s}const L=t=>{const e=t.getCtx(),i=t.getLayout(),s=t.getStyle().label,n=e.canvas,a=n.width,l=n.height,o=s.fontSize;e.font=o+"px "+s.fontFamily;let r=o+o/2;const c=i.graphPosition,h=c.x,u=c.y,g=c.width,x=c.height,d=.2*a,f=h+g+c.yAxisRight+o,y=t.getData();let p=!1;if(1===y.length){const t=y[0];"bar"===t.type&&t.names.length>1&&(p=!0)}if(y.length>1||!i.hasAxisData||p){let i=u+o/2;const s=[],n=[];for(let t=0;t<y.length;t++){const e=y[t],i=e.names||[e.name||""],a=e.colors||(e.design?e.design.color:"");s.push(...i),n.push(...Array.isArray(a)?a:[a])}const c=t.getDatasetNamesScrollTop(),h=s.length*r,g=c/h*s.length,p=Math.floor(g);i-=o*(g-p);const m=f-o/2;if(e.clearRect(m,u,a-m,x),s)for(let t=p;t<s.length;t++){const a=C.get(t).code;let l=s[t];const c=e.measureText(l).width;if(c+r>d&&l.length>3){const t=c/l.length;l=S(l,Math.floor((d-2*o)/t))}const h=(n?n[t]:null)||a;h&&(e.fillStyle=h);const u=f+o,g=i;e.beginPath(),e.arc(f,i,o/2,0,2*Math.PI),e.fill(),e.beginPath(),e.fillStyle="black",e.textAlign="start",e.textBaseline="middle",e.fillText(l,u,g),i+=r}e.clearRect(m,0,a-m,u),e.clearRect(m,u+x,a-m,l-(u+x)),t.addDatasetNamesScrollBar({x:m,y:u,width:a-m,height:x},h)}},z=t=>{const e=t.getLayout();(t=>{const e=t.getCtx(),i=t.getLayout(),s=t.getStyle().title,n=t.getCanvas().width,a=i.graphPosition,l=a.y;let o=i.titleLines;if(e.textAlign="center",e.textBaseline="alphabetic",o){const t=s.fontSize;e.font=t+"px "+s.fontFamily,e.fillStyle="black";let i=n/2,r=l/2+t/2;o.length>1&&(r=t),e.clearRect(0,0,a.x+a.width,a.y);for(let s=0;s<o.length;s++){const n=o[s];e.beginPath(),e.fillText(n,i,r),e.closePath(),r+=t}}})(t),e.hasAxisData&&(t=>{const e=t.getCtx(),i=e.canvas.height,s=t.getLayout().graphPosition,n=s.width,a=s.height,o=s.x,r=s.y,c=t.getStyle().label.fontSize,u=c/2;e.beginPath(),e.fillStyle="black",e.strokeStyle="#b5b5b5",e.lineWidth="0.1",e.rect(o+1,r,n-2,a),e.stroke(),e.lineWidth="1";const g={x:0,y:r,width:o+n,height:i-r};e.clearRect(g.x,g.y,g.width+u,g.height+u),t.setAxisScrollContentSize();const x=t.getAxisScroll();t.addAxisScrollBars(g),function(t,e){const i=t.getCtx(),s=t.getLayout(),n=t.getAxisScroll(),a=t.getCanvas(),o=(a.width,a.height,t.getStyle().label),r=e.width,c=e.height,u=e.x,g=e.y,x=e.maxLabelWidth,d=o.fontSize;i.font=d+"px "+o.fontFamily,i.textBaseline="hanging";let f=0,y=g+c;const p=s.axisData.labels;for(let t in p){const e=p[t],s=e.values;if(e.isAllNumbers){const t=e.tickData;s.sort(((t,e)=>t-e));let n=e.range;if(n){const s=e.tickFormat||{},a=s.prefix||"",o=s.suffix||"",x=s.separateNumbers,p=n[0],m=n[1],b=t.interval;let v=t.count,A=r/v;A<1&&(A=1);let S=0;const w=i.measureText(m).width;let T=1;w>A&&(T+=Math.round(w/A)),i.textAlign="center";for(let t=0;t<=v;t+=T){S=a+l(h(p+b*t,s.decimalPlaces),x)+o,f=u+A*t,i.measureText(S).width;const e=f,n=y+d;i.beginPath(),i.strokeStyle="0"===S?"black":"#b5b5b5",i.moveTo(f,g),i.lineTo(f,g+c+d/2),i.stroke(),i.beginPath(),i.fillText(S,e,n)}}}else{const t=e.maxWidth;let a=r/s.length;a<d&&(a=d);let l=1;const o=Math.floor(n.leftIndex||0),c=Math.ceil(o+r/d),h=c<s.length?c:s.length;for(var m=o;m<h;m+=l){f=u+(a/2+a*(m-n.leftIndex));let e=f;const l=y+d;i.beginPath(),i.textAlign="center";let o=s[m]+"",r=0;const c=i.measureText(o).width/o.length;a/d<4?(o=S(o,(x-d)/c),r=-90,e=f,i.textAlign="end",i.textBaseline="middle"):t>a&&(o=S(o,a/c));let h=r*(Math.PI/180);i.save(),i.translate(e,l),i.rotate(h),i.fillText(o,0,0),i.restore()}}}i.textAlign="start",i.textBaseline="alphabetic"}(t,s),function(t,e){const i=t.getCtx(),s=t.getCanvas(),n=(s.width,s.height,t.getAxisScroll()),a=t.getLayout(),o=t.getStyle().label,r=e.width,c=e.height,u=e.x,g=e.y,x=e.maxLabelWidth,d=o.fontSize;i.font=d+"px "+o.fontFamily;let f=u,y=g+c;const p=a.axisData.values;for(let t in p){const e=p[t],s=e.values;if(e.isAllNumbers){const n=e.tickData;s.sort(((t,e)=>t-e));let a=e.range;if(a){const s=e.tickFormat||{},o=s.prefix||"",x=s.suffix||"",p=s.separateNumbers,m=a[0],b=n.interval;let v=n.count,A=c/v;A<1&&(A=1);let S=0,w=1;d>A&&(w+=Math.round(d/A));for(let e=0;e<=v;e+=w){S=o+l(h(m+b*e,s.decimalPlaces),p)+x,y=g+c-A*e;const n=i.measureText(S).width,a="y2"===t?f+r+d:f-n-d,v=y+Math.floor(d/2);i.beginPath(),i.strokeStyle="0"===S?"black":"#b5b5b5","y2"===t?(i.moveTo(u+r,y),i.lineTo(u+r+d/2,y)):(i.moveTo(u+r,y),i.lineTo(u-d/2,y)),i.stroke(),i.beginPath(),i.fillText(S,a,v)}}}else{const a=e.maxWidth;let l=c/s.length;l<d&&(l=d);let o=1;d>l&&(o+=Math.round(d/l));const h=Math.floor(n.topIndex||0),u=Math.ceil(n.topIndex+c/d),p=u<s.length?u:s.length;for(var m=h;m<p;m+=o){y=g+c-(l/2+l*(m-n.topIndex));let e=s[m]+"";const o=i.measureText(e).width/e.length;a>x-d&&(e=S(e,(x-d)/o));const h="y2"===t?f+r+d:f-d,u=y;i.beginPath(),i.textAlign="y2"===t?"start":"end",i.textBaseline="middle",i.fillText(e,h,u),i.textAlign="start",i.textBaseline="alphabetic"}}}}(t,s),function(t,e){const i=t.getCtx(),s=t.getLayout(),n=t.getStyle().label,a=i.canvas.height,l=e.width,o=e.height,r=e.x,c=e.y,h=e.yAxisRight;let u=s.yAxis,g=s.y2Axis,x=s.xAxis;const d=t.getAxisScrollBarSize();i.textAlign="center";const f=n.fontSize;if(i.font=f+"px "+n.fontFamily,u){let t=u.title;if(t){i.beginPath();let e=Math.PI/180*-90;i.save(),i.translate(f,c+o/2),i.rotate(e),i.fillText(t,0,0),i.restore()}}if(g){let t=g.title;if(t){i.beginPath();let e=Math.PI/180*-90;i.save(),i.translate(r+l+h-f,c+o/2),i.rotate(e),i.fillText(t,0,0),i.restore()}}if(x){let t=x.title;t&&(i.beginPath(),i.fillText(t,r+l/2,a-(f/2+d.hrHeight)))}}(t,s),e.beginPath(),x.isScrollX&&(e.clearRect(g.x,r+a+c,o,i-(r+a)),e.clearRect(o+n,r+a,c,i-(r+a))),x.isScrollY&&(e.clearRect(0,r-c,o,c),e.clearRect(0,r+a,o,c))})(t),e.hasPieData&&(t=>{const e=t.getCtx(),i=t.getLayout().graphPosition,s=i.x,n=i.y,a=i.width,l=b(a,i.height),o=s+a/2,r=n+l;e.beginPath(),e.arc(o,r,l,0,2*Math.PI),e.stroke()})(t)},I=(t,e,i,s,n,l,o,r)=>{const c=t.getCtx(),h=t.getLayout(),u="hr"===e.direction,g=h.axisData,x=g.values[e.yAxis],d=g.labels[e.xAxis],f="y2"===e.yAxis?"y2Axis":"yAxis",y=h.xAxis?h.xAxis.title:null,b=h[f]?h[f].title:null,v=e.name||"",A=h.graphPosition,S=A.x,T=A.y,N=A.height;A.width;let P=u?d.range:x.range;const C=a(0,P),D=(P?u?p(t,C):m(t,C):null)||(u?S:T+N);if(u){const e=l;let a=D,h=m(t,s)+o*l/2-e*i-e,u=p(t,n)-D,g=e;w({x:a,y:h,width:u,height:g},A)&&(c.beginPath(),c.rect(a,h,u,g),c.fill(),t.setToolTipData({type:"bar",x:a,y:h,width:u,height:g,label:s,value:n,labelName:v,valueName:b,tickFormat:r}))}else{const e=l;let a=p(t,s)-o*l/2+e*i;const h=m(t,n),u=a;let g=h;const x=e;let d=D-h;if(w({x:u,y:g,width:x,height:d},A)){if(g<T){const t=T-g;g=T,d-=t}c.beginPath(),c.rect(u,g,x,d),c.fill(),t.setToolTipData({type:"bar",x:u,y:g,width:x,height:d,label:s,value:n,labelName:y,valueName:v,tickFormat:r})}}},W=(t,e,i,s,n,a,l,o)=>{const r=t.getCtx(),c=t.getLayout(),h="hr"===e.direction,u=c.axisData,g=u.values[e.yAxis],x=u.labels[e.xAxis],d="y2"===e.yAxis?"y2Axis":"yAxis",f=c.xAxis?c.xAxis.title:null,y=c[d]?c[d].title:null,b=e.name||"",v=c.graphPosition,A=v.x,S=v.y,w=(v.width,v.height),T=((h?x.range:g.range)?h?p(t,n):m(t,n):null)||(h?A:S+w);if(h){const e=i,n=T,c=m(t,s)+i/2-e,h=p(t,a)-T,u=e;r.beginPath(),r.rect(n,c,h,u),r.fill(),t.setToolTipData({type:"bar",x:n,y:c,width:h,height:u,label:s,value:l,labelName:b,valueName:y,tickFormat:o})}else{const e=i;let n=p(t,s)-i/2;const c=m(t,a),h=n,u=c,g=e,x=T-c;r.beginPath(),r.rect(h,u,g,x),r.fill(),t.setToolTipData({type:"bar",x:h,y:u,width:g,height:x,label:s,value:l,labelName:f,valueName:b,tickFormat:o})}},B=(t,e,n,a,l,o,r,c)=>{const h=e.mode,u=t.getCtx(),g=t.getLayout().graphPosition,x=g.x,d=g.y,f=g.width,y=g.height;u.lineWidth=a;const p=t.getStyle().label.fontSize;if(l){if(l.x>x+f){const t=x+f;l.y=i(t,o.x,o.y,l.x,l.y),l.x=t}else if(l.x<x&&r.next&&r.prev){const t=x-p/2;l.y=i(t,r.next.x,r.next.y,r.prev.x,r.prev.y),l.x=t}if(l.y>d+y){const t=d+y;l.x=s(t,r.next.x,r.next.y,l.x,l.y),l.y=t}else if(l.y<d){const t=d;l.x=s(t,l.x,l.y,o.x,o.y),l.y=t}"start"===n?(u.beginPath(),u.moveTo(l.x,l.y)):u.lineTo(l.x,l.y),"scatter"!==h||c||(u.stroke(),u.closePath(),u.beginPath(),u.arc(l.x,l.y,a/2||1,0,2*Math.PI),u.stroke(),u.closePath(),u.beginPath(),u.moveTo(l.x,l.y))}"end"===n&&(u.stroke(),u.closePath())},E=(t,e,i)=>{const s=t.getCtx();i&&(s.beginPath(),s.arc(i.x,i.y,e,0,2*Math.PI),s.stroke(),s.fill(),s.closePath())},H=(t,e,i,s,n,a,l,o,r,c)=>{const h=t.getLayout().graphPosition,g=h.x,x=h.y,d=h.width,f=b(d,h.height),y=g+d/2,p=x+f,m=u(i,f,{x:y,y:p}),v={x:y,y:p},A=u(s,f,{x:y,y:p}),S=Math.PI/180,w=i*S,T=s*S;e.beginPath(),e.strokeStyle=c,e.lineWidth=2,e.lineCap="round",e.lineJoin="round",e.arc(v.x,v.y,f,w,T),e.moveTo(m.x,m.y),e.lineTo(v.x,v.y),e.lineTo(A.x,A.y),e.stroke(),e.fill(),e.closePath(),t.setToolTipData({type:"pie",radius:f,startDegrees:i,endDegrees:s,startAngle:w,endAngle:T,midPoint:v,holeRadius:n,label:a,value:l,percent:o,tickFormat:r})},R=(t,e)=>{const i=t.getCtx(),s=t.getLayout(),n=t.getStyle().label.fontSize,l=e.type,r=e.mode,c="hr"===e.direction,u=s.graphPosition,g=u.x,p=u.y,m=u.width,b=u.height,v=t.getAxisScroll(),A=Math.floor(v.topIndex>0?v.topIndex-1:0),S=Math.floor(v.leftIndex>0?v.leftIndex-1:0),w=Math.ceil(A+2+b/n),T=Math.ceil(S+2+m/n),N=Math.abs(w-A),P=Math.abs(T-S),D=v.isScrollX&&P>N,k=D?S:A,M=D?T:w;if("bar"===l){const l=s.axisData,o=e.dataset,h=o.length,u=c?b:m,g=new Map;for(let s=0;s<o.length;s++){const x=o[s];x.direction=e.direction;const d=l.values[x.yAxis],f=l.labels[x.xAxis],y={label:f.tickFormat,value:d.tickFormat};let p=u/f.values.length;p<n&&(p=n);let m="stack"===r?.7*p:p/(h+1);const b=c?d:f;if(b.isAllNumbers){const t=b.range,i=t[0],s=t[1]-i,n=e.barSize;n&&(m=n/s*u)}const v=x.design.color;i.fillStyle=v;const A=a(0,c?f.range:d.range),S=x.values,w=Array.from(S.values()),T=Array.from(S.keys()),N=M<S.size?M:S.size;for(let e=k;e<N;e++){let n=w[e];const a=T[e];if(Array.isArray(n)&&(n=n[0]),Array.isArray(v)&&(i.fillStyle=v[e>=v.length?0:e]),"stack"===r){const e=g.has(a)?g.get(a):[A,A],i=n>=0?e[0]:e[1],l=n;n=0===s?n:i+n;const o=n>=0?[n,e[1]]:[e[0],l];g.set(a,o),W(t,x,m,a,i,n,l,y)}else I(t,x,s,a,n,m,h,y)}}}else if("pie"===l){const n=s.axisData,a=e.yAxis?e.yAxis:"y1",l=e.xAxis?e.xAxis:"x1",r=n.values[a],c={label:n.labels[l].tickFormat,value:r.tickFormat},u=t.getTempCanvas();u.width=i.canvas.width,u.height=i.canvas.height;const x=u.getContext("2d"),d=Math.min(m,b)/2,f=e.values?e.values:[],y=e.colors,v=e.operation;let A=0;const S=[];f.forEach((t=>{const e=o(v,t);S.push(e),A+=e}));const w=(e.hole?e.hole:0)*d;if(S){let i=-90,s=i;for(var F=0;F<S.length;F++){const n=C.get(F).code,a=y?y[F]:n;a&&(x.fillStyle=a);const l=S[F],o=e.labels[F];if(!isNaN(l)){const e=l/A;i+=360*e;const n=i,r=h(100*e);H(t,x,s,n,w,o,l,r,c,a),s=n}}}const T=m/2,N=b/2;x.globalCompositeOperation="destination-out",x.globalAlpha=1,x.beginPath(),x.arc(g+T,p+N,w,0,2*Math.PI),x.fill(),x.globalCompositeOperation="source-over",i.drawImage(u,0,0)}else if(e){const n=e.yAxis?e.yAxis:"y1",a=e.xAxis?e.xAxis:"x1",o=s.axisData.labels[a],r=s.axisData.values[n],h=s.xAxis?s.xAxis.title:null,u=e.name||"",g=e.design.color,p=e.design.size,m=e.design.text;i.fillStyle=g,i.strokeStyle=g;const b=c?r.isAllNumbers:o.isAllNumbers,v=c?e.values:e.labels,A=c?e.labels:e.values?e.values:[];if(v){let s,c=!1,S={x:null,y:null};const w=k,T=b?v.length:M<v.length?M:v.length;for(F=w;F<T;F++){let b=v[F],N=A[F];const P=F-1;let C=v[P]||b,D=A[P]||N;const k=F+1;let M=v[k]||b,L=A[k]||N;const z=Array.isArray(g)?g[F]?g[F]:g[0]:g,I=Array.isArray(p)?p[F]:p,W=Array.isArray(m)?m[F]:m;if(s=F===w?"start":F===T-1?"end":"",N||0===N){const g=y(t,C,D,n,a),p=y(t,b,N,n,a),m=y(t,M,L,n,a);let P=!1;if("line"===l){const l=x(t,F,v,A,n,a,S,c,w,T);P=f(t,g)&&f(t,p)&&f(t,m);const o=f(t,p);if(P&&c||o&&(p.x===S.x||p.y===S.y)){i.stroke(),i.closePath();break}P||(!c&&(s="start"),P=f(t,p),c=!0,B(t,e,s,I,p,S,l,P),S=p)}else if(("scatter"===l||"bubble"===l)&&(P=d(t,b,N,a,n)||f(t,p),!P)){const s=e.design.line,n=s&&s.color?s.color:z,a=s&&s.size?s.size:0;i.fillStyle=z,i.strokeStyle=n,i.lineWidth=a,E(t,I,p)}const k={label:o.tickFormat,value:r.tickFormat};!P&&t.setToolTipData({type:l,radius:I,midPoint:p,label:b,value:N,labelName:h,valueName:u,size:"bubble"===l?I:null,sizeName:W,color:z,tickFormat:k})}else i.stroke(),i.closePath()}}}},O=(t,e)=>{e&&R(t,e)},Y=(t,e)=>{e&&R(t,e)},G=t=>{const e=t.getCtx(),i=t.getData();for(let s=0;s<i.length;s++){const n=i[s],a=n.type;e.lineJoin="round",a&&("line"===a?Y(t,n):O(t,n))}},X=(t,e,i,s)=>{if(!t[i]&&0!==t[i])return{text:null,width:0};const n=e.canvas.width;let a=t[i+"Text"],o=t[i+"Width"];const r=t.tickFormat?t.tickFormat[i]:{},c=r.prefix||"",u=r.suffix||"",g=r.decimalPlaces,x=r.separateNumbers;if(!o){let r=c+l(h(t[i],g),x)+u;const d=e.measureText(r).width,f=d>n?.9*n:d;r=S(r,f/(d/r.length));let y=t[i+"Name"];y&&(y=S(y,(n-f-s||0)/(e.measureText(y).width/y.length))+": "),a=(y?y+" ":"")+r+(t.percent&&"value"===i?" ("+t.percent+"%)":""),o=e.measureText(a).width}return t[i+"Text"]=a,t[i+"Width"]=o,{text:a,width:o}},V=(t,e,i,s)=>{((t,e,i)=>{if(e.beginPath(),e.strokeStyle="#000",e.lineWidth=1,"bar"===i.type)e.rect(i.x,i.y,i.width,i.height);else if("pie"===i.type){e.strokeStyle="rgba(0, 0, 0, 0.1)";const t=.0063*e.canvas.width;e.lineWidth=t,e.arc(i.midPoint.x,i.midPoint.y,i.radius-2,i.startAngle,i.endAngle)}else"line"===i.type?(e.strokeStyle=i.color||"#000",e.fillStyle=i.color||"transparent",e.arc(i.midPoint.x,i.midPoint.y,i.radius+1,0,2*Math.PI),e.fill()):e.arc(i.midPoint.x,i.midPoint.y,i.radius,0,2*Math.PI);e.stroke()})(0,e,s);const n=t.getStyle().label.fontSize,a=n/2,l=X(s,e,"label",n),o=X(s,e,"value",n),r=X(s,e,"size",n),c=Math.max(l.width,o.width,r.width)+n,h=n*(r.text?5:3.5);let u=i.x+20,g=i.y+25;const x=c,d=h,f=u+x,y=g+d;f>e.canvas.width&&(u=x+n+20<i.x?i.x-(x+20):i.x+20-(f-e.canvas.width)),y>e.canvas.height&&(g=i.y-(d+20)),e.beginPath(),e.fillStyle="#b5b5b5",e.fillRect(u,g,x,d),e.fillStyle="#fff",e.fillRect(u+1,g+1,x-2,d-2),e.fillStyle="#000",e.font=n+"px Arial",e.textBaseline="top",e.textAlign="left",e.fillText(l.text,u+a,g+a),e.fillText(o.text,u+a,g+2*n),r.text&&e.fillText(r.text,u+a,g+3*n+a)};function _(t){this.rawData=[],this.data=[],this.layout={},this.style={},this.axisScrollWheelArea=document.createElement("div"),this.axisHrScrollBar=document.createElement("div"),this.axisVrScrollBar=document.createElement("div"),this.axisScroll={topIndex:0,leftIndex:0,isScrollY:!1,isScrollX:!1},this.datasetNamesScrollBar=document.createElement("div"),this.datasetNamesScrollTop=0,this.target=document.getElementById(t),this.targetCanvas=document.createElement("canvas"),this.canvas=document.createElement("canvas"),this.canvasCopy=document.createElement("canvas"),this.ctx=null,this.tempCanvas=document.createElement("canvas"),this.toolTipData=[],this.clearTarget=function(){this.getTarget().innerHTML=""},this.setRawData=function(t){this.rawData=t},this.getRawData=function(){return this.rawData},this.setData=function(t){this.data=t},this.getData=function(){return[...this.data]},this.setLayout=function(t){if(t){const e=t.title?t.title:"";t.titleLines=function(t,e){const i=t.getCanvas(),s=t.getCtx(),n=t.getStyle().title,a=i.width,l=e.split(" ");let o=[],r=l[0];const c=n.fontSize;s.font=n.fontWeight+" "+c+"px "+n.fontFamily;for(let t=1;t<l.length;t++){const e=r+" "+l[t];s.measureText(e).width+c<a?r=e:(s.measureText(r).width,o.push(r),r=l[t])}return o.push(r),o}(this,e),t.customColorsIndex=0,this.layout={...t}}},this.getLayout=function(){return this.layout},this.setStyle=function(){this.style=(t=>{const e=t.getCanvas().width,i={fontFamily:"Helvetica Neue, Helvetica, 'Arial, sans-serif",fontWeight:"bold"},s={fontFamily:"Helvetica Neue, Helvetica, 'Arial, sans-serif"};return e<600?(i.fontSize=16,s.fontSize=12):e<1200?(i.fontSize=20,s.fontSize=14):(i.fontSize=24,s.fontSize=18),{title:i,label:s}})(this)},this.getStyle=function(){return this.style},this.setCanvas=function(t,e){const i=this.getCanvas();i.width=t,i.height=e,this.canvas=i,this.ctx=i.getContext("2d")},this.getCanvas=function(){return this.canvas},this.setToolTipData=function(t){this.toolTipData.push(t)},this.getToolTipData=function(){return this.toolTipData},this.clearToolTipData=function(){this.toolTipData=[]},this.updateCanvasCopy=function(){const t=this.getCanvas(),e=this.getCanvasCopy();e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),this.canvasCopy=e},this.getCanvasCopy=function(){return this.canvasCopy},this.getCtx=function(){return this.ctx},this.getTempCanvas=function(){return this.tempCanvas},this.getAxisScroll=function(){return this.axisScroll},this.getAxisScrollbar=function(){return{wheelArea:this.axisScrollWheelArea,hr:this.axisHrScrollBar,vr:this.axisVrScrollBar}},this.getAxisScrollBarSize=function(){const t=this.getAxisScrollbar(),e=t.hr?t.hr.offsetHeight:0;return{vrWidth:t.vr?t.vr.offsetWidth:0,hrHeight:e}},this.setAxisScrollContentSize=function(){const t=this.getLayout(),e=this.getStyle().label.fontSize,i=this.getCanvas(),s=(i.width,i.height),n=t.graphPosition,a=n.y,l=n.x,o=n.width,r=n.height,c=this.getAxisScroll(),h=t.axisData,u="hr"===h.direction,g=u?h.labels:h.values;for(let t in g){const i=g[t],n=i.values;if(!i.isAllNumbers){let t=o/n.length;t<e&&(t=e);const i=n.length*e+(s-(a+r))||0;i>(c.contentHeight||0)&&(c.contentHeight=i)}}const x=u?h.values:h.labels;for(let t in x){const i=x[t],s=i.values;if(!i.isAllNumbers){let t=o/s.length;t<e&&(t=e),c.contentWidth=e*s.length+l}}},this.setAxisScrollIndex=function(t,e){const i=this.getLayout(),s=i?i.axisData:null,n=(this.getStyle().label||{}).fontSize||0,a=this.getAxisScroll(),l=this.getAxisScrollbar().wheelArea;if(!isNaN(e)){e<0&&(e=0);let t=0;const i=s.labels||{};for(let e in i){const s=i[e].values;s.length>t&&(t=s.length)}const l=e/(t*n)*t;a.leftIndex=l}if(!isNaN(t)){t<0&&(t=0);let e=0;const i=s.values||{};for(let t in i){const s=i[t].values;s.length>e&&(e=s.length)}const o=e*n,r=t-(l.scrollHeight-l.clientHeight),c=Math.abs(r/o*e);a.topIndex=c}},this.addAxisScrollBars=function(t){const e=this.getLayout().graphPosition,i=e.width,s=e.height,n=this.getTarget(),a=this.getAxisScrollbar(),l=a.wheelArea,o=a.hr,r=a.vr,c=l.children[0]||document.createElement("div"),h=this.getAxisScroll(),u=h.contentWidth||0,g=h.contentHeight||0,x=!!a.parentElement;if(c&&(c.style.width=(u||1)+"px",c.style.height=(g||1)+"px",c.style.border="0px",c.style.margin="0px",c.style.padding="0px",c.style.backgroundColor="transparent"),l&&(l.style.position="absolute",l.style.left=(t.x||0)+"px",l.style.top=(t.y||0)+"px",l.style.height=(t.height||0)+"px",l.style.width=(t.width||0)+"px",l.style.border="0px",l.style.margin="0px",l.style.padding="0px",l.style.overflow="auto",l.style.scrollbarWidth="none",l.style.backgroundColor="transparent"),o&&(o.style.position="absolute",o.style.left="0px",o.style.top=(t.y+t.height||0)+"px",o.style.width=(t.width||1)+"px",o.style.border="0px",o.style.margin="0px",o.style.padding="0px",o.style.overflow="auto",o.style.backgroundColor="transparent"),r&&(r.style.position="absolute",r.style.left=(t.x+t.width+2||0)+"px",r.style.top=(t.y||0)+"px",r.style.height=(s||1)+"px",r.style.border="0px",r.style.margin="0px",r.style.padding="0px",r.style.overflow="auto",r.style.backgroundColor="transparent"),n&&(u>i||g>s)&&l.parentElement!==n){const e=this,a=function(){e.clearToolTipData(),e.updateTargetCanvas(),z(e),G(e),e.updateCanvasCopy()};let d,f=!1;if(v(l,"wheel",(function(){f=!1}),""),v(l,"scroll",(function(){e.setAxisScrollIndex(l.scrollTop,l.scrollLeft),clearTimeout(d),d=setTimeout((function(){a(),o.scrollLeft=l.scrollLeft;const t=l.scrollTop/(l.scrollHeight-l.clientHeight);r.scrollTop=t*(r.scrollHeight-r.clientHeight)}),10)}),""),v(o,"mousedown",(function(){f=!0}),""),v(o,"scroll",(function(){f&&(l.scrollLeft=o.scrollLeft)}),""),v(r,"mousedown",(function(){f=!0}),""),v(r,"scroll",(function(){if(f){const t=r.scrollTop/(r.scrollHeight-r.clientHeight);l.scrollTop=t*(l.scrollHeight-l.clientHeight)}}),""),v(l,"mousemove",(function(){this.style.pointerEvents="none"}),""),l.appendChild(c),n.appendChild(l),u>t.width){const t=c.cloneNode(!0);o.appendChild(t),n.appendChild(o);const e=o.offsetHeight-o.clientHeight;o.style.height=e+"px"}if(g>t.height){const t=c.cloneNode(!0);r.appendChild(t),n.appendChild(r);const e=r.offsetWidth-r.clientWidth;r.style.width=e+"px"}!x&&this.setAxisScrollIndex(0,0),h.isScrollX=u>i,h.isScrollY=g>s}},this.getDatasetNamesScrollTop=function(){return this.datasetNamesScrollTop},this.setDatasetNamesScrollTop=function(t){this.datasetNamesScrollTop=t},this.getDatasetNamesScrollBar=function(){return this.datasetNamesScrollBar},this.addDatasetNamesScrollBar=function(t,e){const i=this.getTarget(),s=this.getDatasetNamesScrollBar(),n=s.children[0]||document.createElement("div");if(n&&(n.style.height=(e||0)+"px",n.style.border="0px",n.style.margin="0px",n.style.padding="0px",n.style.backgroundColor="transparent"),s&&(s.style.position="absolute",s.style.left=(t.x||0)+"px",s.style.top=(t.y||0)+"px",s.style.height=(t.height||0)+"px",s.style.width=(t.width||0)+"px",s.style.border="0px",s.style.margin="0px",s.style.padding="0px",s.style.overflowY="auto",s.style.backgroundColor="transparent"),i&&e>t.height&&s.parentElement!==i){const t=this;let e;v(s,"scroll",(function(){t.setDatasetNamesScrollTop(s.scrollTop),clearTimeout(e),e=setTimeout((function(){L(t),t.updateCanvasCopy()}),10)}),""),s.appendChild(n),i.appendChild(s)}},this.getTarget=function(){return this.target},this.getTargetCanvas=function(){return this.getTarget().getElementsByTagName("canvas")[0]},this.updateTargetCanvas=function(){const t=this.getCanvasCopy(),e=this.getCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0)},this.addCanvasToTarget=function(){const t=this.getTarget(),e=this.getCanvas();if(t&&e.parentElement!==t){t.style.position="relative";const i=this;v(e,"wheel",(function(){const t=i.getAxisScrollbar().wheelArea;t&&(t.style.pointerEvents="")})),v(e,"mousedown",(function(){const t=i.getAxisScrollbar().wheelArea;t&&(t.style.pointerEvents="")}),"touchstart"),v(e,"mousemove",(function(t){t.stopPropagation();const e=function(t){if(t){const e=t.target.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}return null}(t);((t,e,i)=>{if(e&&i){const i=e.getCtx();var s=i.canvas.getBoundingClientRect(),n=t.clientX-s.left,a=t.clientY-s.top;e.updateTargetCanvas();const l=[...e.getToolTipData()].reverse(),o={x:n,y:a,width:1,height:1};let r=null;for(let t=0;t<l.length;t++){const s=l[t],c=s.type;if("bar"===c){if(w(o,s)){V(e,i,{x:n,y:a},s),r=null;break}}else if("pie"===c){if(P(o,s)){V(e,i,{x:n,y:a},s),r=null;break}}else{if(T(o,s)){V(e,i,{x:n,y:a},s),r=null;break}{const t=N(o,s,22);t&&(r?r.dist>t.dist&&(r=t):r=t)}}}r&&V(e,i,{x:n,y:a},r.data)}})(t,i,e)}),""),v(document,"click",(function(){i.updateTargetCanvas()}),"touchend"),t.appendChild(e)}},this.clearTarget()}_.prototype.update=function(){this.clearToolTipData(),this.setData(this.getRawData()),function(t){const e=t.getCtx(),i=t.getLayout(),s=t.getData(),n=t.getStyle().label,a=n.fontSize;e.font=a+"px "+n.fontFamily;let l=1,u=0;const x=[],d=[];let f=0;class y{constructor(){this.values=[],this.range=null,this.maxWidth=0,this.tickData=null,this.isAllNumbers=!1}}const p={x1:new y},m={y1:new y,y2:new y},b=["line","bar","scatter","bubble"];let v=!1,A=!1,S=null,w=0,T=0;if(s){const t=s,n=t.length,a={labels:[],values:[]},c={type:"bar",dataset:[],attributeIsSet:!1},g=new Map,y=[],N=[];let P=!1;for(let s=0;s<n;s++){const n={...t[s]},C=n.yAxis||"y1",D=n.xAxis||"x1",L="y2"===C?m.y2:m.y1,z=p[D],I=n.name,W=n.labels?[...n.labels]:[],B=n.values?[...n.values]:[],E=n.type,H=n.design||{},R=n.operation;0===W.length&&k(B,W,a.labels),0===B.length&&k(W,B,a.values),a.labels=[...W],a.values=[...B];let O=0,Y=0;const G={values:new Map,xAxis:D,yAxis:C},X=[],V=[],_=[],j={...n},q=[],J=[],K=r(W),Q=r(B),U=M(i,D),Z=z.tickFormat=U?{...U.tickFormat}:{},$=Z.prefix||"",tt=Z.suffix||"",et=Z.decimalPlaces,it=M(i,C),st=L.tickFormat=it?{...it.tickFormat}:{},nt=st.prefix||"",at=st.suffix||"",lt=st.decimalPlaces;if(b.includes(E)){const i=W.length>0?W.length:B.length;let s="",a="";for(let r=0;r<i;r++){const u=W[r],x=Q?Number(B[r]):B[r]?B[r]:"",d=K?$+h(u,et)+tt:u+"";let f=(u+"").length>(a+"").length?e.measureText(d).width:null;const y=Q?nt+h(x<0&&x>10?-10:x,lt)+at:x+"";let p=y.length>(s+"").length?e.measureText(y).width:0;if("bar"===E){if(!c.attributeIsSet){for(let e=0;e<t.length;e++){const i=t[e];"bar"===i.type&&("hr"===i.direction&&(c.direction="hr"),"stack"===i.mode&&(c.mode="stack"))}c.attributeIsSet=!0}const s="hr"===c.direction,a=s?u:x,d=s?x:u,f=s?K:Q,y=s?Q:K,p=s?$:nt,m=s?tt:at,b=s?et:lt;c.labelIsAllNumbers=y;let v=[a];if(G.values.has(d)&&(v=G.values.get(d),f?!isNaN(a)&&v.push(a):v.push(a)),(y||d.toString().length>0)&&(1===v.length&&f&&isNaN(a)&&(v=[]),v.length>l&&(l=v.length),G.values.set(d,v),"hr"===n.direction&&(S="hr"),P=!0),r===i-1){if(s?Q:K){let t=Array.from(G.values.keys());t.sort(((t,e)=>t-e));for(let e=0;e<t.length;e++){const i=t[e],s=t[e!==t.length-1?e+1:null];let n=s?Math.abs(s-i):null;const a=c.barSize;n&&(a?a>n&&(c.barSize=n):c.barSize=n)}}(Q||K)&&G.values.forEach(((t,i)=>{let n=o(R,t);isNaN(n)&&(n=t[0]);const a=e.measureText(p+h(n,b)+m).width;if(G.values.set(i,n),"stack"===c.mode){const t=g.has(i)?g.get(i):[0,0];n=(n>=0?t[0]:t[1])+n;const e=n>=0?[n,t[1]]:[t[0],n];g.set(i,e)}s?(z.values.push(n),a>O&&(O=a)):(L.values.push(n),a>Y&&(Y=a))}))}K&&!Q&&!s&&z.values.push(u),Q&&!K&&s&&L.values.push(x)}else{if(X.includes(u)&&Q){const t=_[X.indexOf(u)];t&&!isNaN(x)&&t.push(x)}else if(V.includes(x)&&!Q&&K){const t=_[V.indexOf(x)];t&&!isNaN(u)&&t.push(u)}else{if(K||Q)X.push(u),V.push(x);else{const t=-1!=X.indexOf(u),e=-1!=V.indexOf(x);t&&e||(X.push(u),V.push(x))}Q?isNaN(x)?_.push([]):_.push([x]):K?_.push([u]):_.push([])}if(r===i-1)for(let t=0;t<_.length;t++){const i=_[t],s=o(R,i);isNaN(s)||(Q?(p=e.measureText(nt+h(s,lt)+at).width,V[t]=s,L.values.push(s),p>Y&&(Y=p)):K&&(f=e.measureText($+h(s,et)+tt).width,X[t]=s,z.values.push(s),f>O&&(O=f)))}}f>O&&(O=f,a=u),p>Y&&(Y=p,s=x),(!K||Q)&&z.values.push(u),(!Q||K)&&L.values.push(x)}z.maxWidth=O>z.maxWidth?O:z.maxWidth,L.maxWidth=Y>L.maxWidth?Y:L.maxWidth,L.isAllNumbers=Q,z.isAllNumbers=K,v=!0;const r=I||"Dataset "+f,u=e.measureText(r).width;"bar"===E?(y.push(r),G.name=r,G.design=F(E,H,f),G.design.color&&N.push(Array.isArray(G.design.color)?G.design.color[0]:G.design.color),c.dataset.push(G)):(n.name=r,n.values=V,n.labels=X,n.design=F(E,H,f),x.push(n)),u>w&&(w=u),T+=1,f++}else if("pie"===E){for(let t=0;t<B.length;t++){const i=W[t],s=B[t];if(s>=0&&i){const t=e.measureText(i).width;q.includes(i)?J[q.indexOf(i)].push(s):(q.push(i),J.push([s])),t>u&&(u=t)}}A=!0,j.labels=q,j.values=J,j.names=q,j.type="pie",d.push(j),u>w&&(w=u),T+=q.length}z&&(z.values=[...new Set(z.values)]),L&&(L.values=[...new Set(L.values)])}P&&(c.names=y,c.colors=N,c.direction=S,x.unshift(c))}const N=(t,s)=>{for(let n in t){const a=t[n],l=a.values,o=a.maxWidth,u=r(l);let x=g(l);if("values"===s){if("y2"===n){if(i.y2Axis){const t=i.y2Axis.range;!t||(x=t)}}else if(i.yAxis){const t=i.yAxis.range;!t||(x=t)}}else if(i.xAxis){const t=i.xAxis.range;!t||(x=t)}const d=D(x),f=d.range,y=f[0],p=f[1];let m=o;if(u){const t=a.tickFormat,i=t?t.decimalPlaces:null,s=t&&t.prefix||"",n=t&&t.suffix||"";if(!isNaN(y)&&!isNaN(p)){const t=e.measureText(s+h(y,i)+n).width,a=e.measureText(s+h(p,i)+n).width;m=Math.max(t,a)}}const b=a.tickFormat;b&&(b.separateNumbers||(b.separateNumbers=!c(d.range))),a.maxWidth=m,a.range=d.range,a.tickData=d,a.isAllNumbers=u,a.tickFormat={...b}}},P=[...x,...d];N(m,"values"),N(p),i.datasetNameData={isDatasetName:T>1,maxNameWidth:w,total:T},i.axisData={labels:p,values:m,direction:S},i.hasAxisData=v,i.hasPieData=A,t.setData(P)}(this),function(t){t.getCtx();const e=t.getCanvas(),i=e.width,s=e.height,n=t.getLayout(),a=t.getStyle(),l=a.title.fontSize,o=a.label.fontSize,r=t.getLayout().titleLines;let c=0;r.length>0&&(c=(r.length+1)*l);const h=n.axisData,u=h.labels,g=h.values,x=2*o,d=.15*i;let f=d,y=d;const p=g.y1.maxWidth;p<f&&(f=p+x),n.yAxis&&n.yAxis.title&&(f+=x);const m=g.y2.maxWidth;m<y&&(y=0===m?0:m+x),n.y2Axis&&n.y2Axis.title&&m>0&&(y+=2*o);let b=.15*i;const v=n.datasetNameData,A=v.isDatasetName,S=v.maxNameWidth;b=A?S<b?S+x:.2*i:0;let w=x+o,T=0;const N=i-(f+y+b),P=u.x1,C=P.maxWidth,D=N/P.values.length;if(T=P.isAllNumbers?C:0,!P.isAllNumbers&&D/o<4){const t=.3*s;w+=C>t?t:2*o}n.xAxis&&n.xAxis.title&&(w+=x);const k={x:f,y:c,width:i-(f+y+b+T),height:s-(c+w),yAxisRight:y,maxLabelWidth:d};t.layout={...n,graphPosition:k}}(this),L(this),z(this),G(this),this.updateCanvasCopy(),this.addCanvasToTarget()},_.prototype.plot=function(t,e){this.clearToolTipData();const i=function(t,e){const i=t.getTarget(),s=e.width,n=e.height;let a=700,l=350;if(s||n)a=s||2*n,l=n||.5*s;else if(i){const t=i.offsetWidth,e=i.offsetHeight;t>e?(a=t,l=t/2):(t||e)&&(a=t||a,l=a/2)}return{width:a,height:l}}(this,e);this.setCanvas(i.width,i.height),this.setStyle(),this.setRawData(t),this.setLayout(e),this.update()},DataVision=_})()})();